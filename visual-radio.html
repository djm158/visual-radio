<link rel="import" href="../polymer/polymer.html">

<!-- # CUSTOM STYLES -->
<link rel="import" href="visual-radio-fonts.html">
<link rel="import" href="visual-radio-styles.html">

<!--
`visual-radio`
Visual radio description

@demo demo/index.html
-->

<dom-module id="visual-radio">
  <template>
    <style include="visual-radio-fonts"></style>
    <style include="visual-radio-styles"></style>

    <div id="visualRadioContainer" on-click="toggleRadio" on-tap="toggleRadio">
      <template is="dom-if" if="{{image}}">
        <img src="{{image}}" alt="">
      </template>
      <input type="radio">
      <span>{{label}}</span>
    </div>
  </template>

  <script>
    class VisualRadio extends Polymer.Element {
      static get is() {
        return 'visual-radio';
      }

      static get properties() {
        return {
          value: {
            type: String
          },
          label: {
            type: String
          },
          image: {
            type: String
          },
          selected:{
            type: Boolean,
          },
          disable: {
            type: Boolean
          }
        };
      }

      attributeChangedCallback(attributeName, oldValue, newValue) {
        if (super.attributeChangedCallback) { super.attributeChangedCallback(attributeName, oldValue, newValue) }

        var visualRadioItem = this.$.visualRadioContainer

        if ( attributeName === 'selected') {
          if (oldValue === null && newValue=== '') {
            visualRadioItem.classList.add('visual-radio-selected')
          }else{
            visualRadioItem.classList.remove('visual-radio-selected')
          }
        }

        if ( attributeName === 'disable') {
          if (oldValue === null && newValue=== '') {
            visualRadioItem.classList.add('visual-radio-disable')
          }else{
            visualRadioItem.classList.remove('visual-radio-disable')
          }
        }
      }

      toggleRadio() {
        var visualRadioItem = this.$.visualRadioContainer

        if ( this.hasAttribute('selected') ) {
          this.removeAttribute('selected')
        }else {
          this.setAttribute('selected', '')
        }
      }
    }

    window.customElements.define(VisualRadio.is, VisualRadio);
  </script>
</dom-module>
